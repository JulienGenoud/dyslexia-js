{"name":"Dyslexia-js","tagline":"Translation and russial letters fix of original page http://geon.github.com/_posts/2016-03-03-dsxyliea.md","body":"---\r\nlayout: post\r\ncategory : Programming\r\ntags : [dyslexia, typoglycemia, Javascript]\r\ntitle: Dsxyliea\r\n---\r\n{% include JB/setup %}\r\n\r\n<h3>Симулятор дизлексии с помощью JavaScript'a</h3>\r\n<p>Моя подруга, которая имеет дизлексию объяснила мне, как она читает. Она может читать, но это требует очень большой концентрации внимания и буквы как будто прыгают с места на место.</p>\r\n<p>Тут я вспонил, что читал о <a href=\"https://en.wikipedia.org/wiki/Typoglycemia\">typoglycemia</a>. Возможно ли сделать это прямо на сайте с помощью Javascript'а? Да, конечно.</p>\r\n<p>Хотите сохранить ссылку на эту страницу или сами что-то поправить? <a href=\"https://github.com/geon/geon.github.com/blob/master/_posts/2016-03-03-dsxyliea.md\">Fork it</a> на github (оригинал на английском), <a href=\"https://github.com/crea7or/dyslexia-js\">а тут эта версия</a> на русском.</p>\r\n\r\n\r\n<p>*Дислекси́я (др.-греч. δυσ- — приставка, означающая нарушение + λέξις — речь) — избирательное нарушение способности к овладению навыком чтения и письма при сохранении общей способности к обучению. Исторически так сложилось, что в западных странах в понятие Дислексия включают все проблемы, связанные с письменной речью:</p>\r\n<ul>\r\n<li>проблемы с овладением навыком чтения;</li>\r\n<li>проблемы с овладением навыком письма;</li>\r\n<li>проблемы с грамотностью;</li>\r\n<li>проблемы с овладением математикой;</li>\r\n<li>проблемы, связанные с нарушением моторики и координации;</li>\r\n<li>проблемы с поддержанием внимания.</li>\r\n</ul>\r\n<p>Отечественная логопедия рассматривает все эти проблемы по отдельности, не связывая их между собой, как: дислексия, дисграфия, дисорфография, дискалькулия, диспраксия, СДВ(Г).</p>\r\n<p>Существует ещё один вид дислексии — Dyslexia litteris (латынь — дислексия букв). Проявляется при наборе текста. Выявляется как смена местами рядом стоящих букв. Систематически проявление отследить невозможно, появляется только в словах, состоящих из более чем четырёх букв.</p>\r\n</p>\r\n<p>*Источник: <a href=\"https://ru.wikipedia.org/wiki/%D0%94%D0%B8%D1%81%D0%BB%D0%B5%D0%BA%D1%81%D0%B8%D1%8F\">Wikipedia</a>.</p>\r\n\r\n<p>Оригинал страницы на английском и автор оригинального JavaScript'а - <a href=\"http://geon.github.io/programming/2016/03/03/dsxyliea\">geon.github.com</a></p>\r\n\r\n<script type=\"text/javascript\" src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js\"></script>\r\n<script type=\"text/javascript\">\r\n\r\n\"use strict\";\r\n\r\n$(function(){\r\n\r\n\tvar getTextNodesIn = function(el) {\r\n\t    return $(el).find(\":not(iframe,script)\").addBack().contents().filter(function() {\r\n\t        return this.nodeType == 3;\r\n\t    });\r\n\t};\r\n\r\n\t// var textNodes = getTextNodesIn($(\"p, h1, h2, h3\"));\r\n\tvar textNodes = getTextNodesIn($(\"*\"));\r\n\r\n\r\n\r\n\tfunction isLetter(char) {\r\n\t\treturn /^[\\d]$/.test(char);\r\n\t}\r\n\r\n\r\n\tvar wordsInTextNodes = [];\r\n\tfor (var i = 0; i < textNodes.length; i++) {\r\n\t\tvar node = textNodes[i];\r\n\r\n\t\tvar words = []\r\n\r\n\t\t//var re = /\\w+/g;\r\n\t\t//fix to match russian language letters\r\n\t\tvar re = /[a-zA-Zа-яА-Я]+/g;\r\n\t\tvar match;\r\n\t\twhile ((match = re.exec(node.nodeValue)) != null) {\r\n\r\n\t\t\tvar word = match[0];\r\n\t\t\tvar position = match.index;\r\n\r\n\t\t\twords.push({\r\n\t\t\t\tlength: word.length,\r\n\t\t\t\tposition: position\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\twordsInTextNodes[i] = words;\r\n\t};\r\n\r\n\r\n\tfunction messUpWords () {\r\n\r\n\t\tfor (var i = 0; i < textNodes.length; i++) {\r\n\r\n\t\t\tvar node = textNodes[i];\r\n\r\n\t\t\tfor (var j = 0; j < wordsInTextNodes[i].length; j++) {\r\n\r\n\t\t\t\t// Only change a tenth of the words each round.\r\n\t\t\t\tif (Math.random() > 1/10) {\r\n\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar wordMeta = wordsInTextNodes[i][j];\r\n\r\n\t\t\t\tvar word = node.nodeValue.slice(wordMeta.position, wordMeta.position + wordMeta.length);\r\n\t\t\t\tvar before = node.nodeValue.slice(0, wordMeta.position);\r\n\t\t\t\tvar after  = node.nodeValue.slice(wordMeta.position + wordMeta.length);\r\n\r\n\t\t\t\tnode.nodeValue = before + messUpWord(word) + after;\r\n\t\t\t};\r\n\t\t};\r\n\t}\r\n\r\n\tfunction messUpWord (word) {\r\n\r\n\t\tif (word.length < 3) {\r\n\r\n\t\t\treturn word;\r\n\t\t}\r\n\r\n\t\treturn word[0] + messUpMessyPart(word.slice(1, -1)) + word[word.length - 1];\r\n\t}\r\n\r\n\tfunction messUpMessyPart (messyPart) {\r\n\r\n\t\tif (messyPart.length < 2) {\r\n\r\n\t\t\treturn messyPart;\r\n\t\t}\r\n\r\n\t\tvar a, b;\r\n\t\twhile (!(a < b)) {\r\n\r\n\t\t\ta = getRandomInt(0, messyPart.length - 1);\r\n\t\t\tb = getRandomInt(0, messyPart.length - 1);\r\n\t\t}\r\n\r\n\t\treturn messyPart.slice(0, a) + messyPart[b] + messyPart.slice(a+1, b) + messyPart[a] + messyPart.slice(b+1);\r\n\t}\r\n\r\n\t// From https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/random\r\n\tfunction getRandomInt(min, max) {\r\n\t\t\r\n\t\treturn Math.floor(Math.random() * (max - min + 1) + min);\r\n\t}\r\n\r\n\r\n\tsetInterval(messUpWords, 50);\r\n});\r\n\r\n\r\n</script>\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}